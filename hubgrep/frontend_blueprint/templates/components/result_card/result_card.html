{% macro repo_time_value(datetime) %}
    {% if datetime %}
        {{ timeago.format(datetime, datetime_now, get_locale()) }}
    {% else %}
        {{ constants.MISSING_VALUE_DEFAULT }}
    {% endif %}
{% endmacro %}

{% macro card(SearchResult) %}
    <div class="item">
        <a class="item-signature" href="{{ SearchResult.repo_url }}">
            <h2>
                <span class="item-signature-name">{{ SearchResult.username }} /</span>
                <span class="item-signature-owner">{{ SearchResult.name }}</span>
            </h2>
            <br>
            <span class="item-signature-url">{{ SearchResult.repo_url }}</span>
        </a>
        <div class="item-detail">
            <p class="item-detail-desc">
                <span>{{ SearchResult.description|default(constants.MISSING_VALUE_DEFAULT) }}</span>
            </p>
            <p class="item-detail-misc">
                <span class="item-detail-misc-lang">
                    <span class="label" title="{{ constants.TOOLTIP_FILTER_LANGUAGE }}">
                        {{ gettext('language') | safe }}:</span>
                    <span>{{ SearchResult.language|default(constants.MISSING_VALUE_DEFAULT) }}</span>
                </span>
                <span class="item-detail-misc-license">
                    <span class="label" title="{{ constants.TOOLTIP_FILTER_LICENSE }}">
                        {{ gettext('license') | safe }}:</span>
                    <span>{{ SearchResult.license|default(constants.MISSING_VALUE_DEFAULT) }}</span>
                </span>
            </p>
            <p class="item-detail-date">
                <span class="item-detail-date-created">
                    <span class="label" title="{{ SearchResult.created_at }} : {{ constants.TOOLTIP_FILTER_CREATED_AT }}">
                        {{ gettext('created') | safe }}:</span>
                    <span>{{ repo_time_value(SearchResult.created_at) }}</span>
                </span>
                <span class="item-detail-date-modified">
                    <span class="label" title="{{ SearchResult.updated_at }} : {{ constants.TOOLTIP_FILTER_MODIFIED_AT }}">
                            {{ gettext('modified') | safe }}:</span>
                    <span>{{ repo_time_value(SearchResult.updated_at) }}</span>
                </span>
                <span class="item-detail-date-pushed">
                    <span class="label" title="{{ SearchResult.pushed_at }} : {{ constants.TOOLTIP_FILTER_PUSHED_AT }}">
                        {{ gettext('last push') | safe }}:</span>
                    <span>{{ repo_time_value(SearchResult.pushed_at) }}</span>
                </span>
            </p>
            <p class="item-detail-score">
                <span class="label" title="{{ constants.TOOLTIP_FILTER_WEIGHT }}">
                    {{ gettext('score') | safe }}:</span>
                <span>{{ SearchResult.weight|default(constants.MISSING_VALUE_DEFAULT) }}</span>
            </p>
        </div>
    </div>
{% endmacro %}
